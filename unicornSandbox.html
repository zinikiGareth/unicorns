<!DOCTYPE html>
<html>
<head>
<script src='/vendor/almond.js' ></script>
<script src='/vendor/uuid.core.js' ></script>
<script src='/vendor/resolver.js' ></script>
<script src='/vendor/jquery.js' ></script>
<script src='/vendor/handlebars.js' ></script>
<script src='/vendor/ember-latest.js' ></script>
<script src='/vendor/rsvp.amd.js'></script>
<script src='/vendor/message_channel.js'></script>
<script src='/vendor/oasis.js'></script>
<script src='/vendor/unicornlib-amd.js' ></script>
<script src='/contract-amd.js' ></script>
<script src='/envelope-amd.js' ></script>

<script type='text/javascript'>
// Probably we want an Ember Application, but we don't seem to need it yet
    var UL = require("unicornlib/unicornlib");
    App = { UnicornLib : UL.create() };
    var Bridge = require('unicornlib/bridge');
    var bridge = new Bridge();
    var moduleName = bridge.getNamedParameter(window.location.href, "unicorn");
    var uuid = bridge.getNamedParameter(window.location.href, "guid");
    App.UnicornLib.coordinator.set('uuid', uuid);
    console.log("unicorn is " + moduleName);
    bridge.init();
    App.UnicornLib.registry.find(moduleName).then(function(unicorn) {
         bridge.setup(unicorn);
         App.UnicornLib.coordinator.set('containerAt', oasis);
    });
</script>
</head>
<body>
</body>
</html>
